{"uid":"ec67dbb2dc0d3083","name":"Create order","fullName":"tests.test_order.TestOrders#test_create_order","historyId":"18bec24c492f6eff9f861b5abf56ec4a","time":{"start":1711434921346,"stop":1711434922458,"duration":1112},"status":"failed","statusMessage":"AssertionError: Invalid TOTAL_PRICE in database","statusTrace":"self = <test_order.TestOrders object at 0x7f39e3795160>\n\n    @allure.title('Create order')\n    def test_create_order(self):\n        self.create_order.create_order()\n        self.create_order.check_response_is_200()\n        order_api = self.create_order.validate_scheme()\n        self.database_orders.last_order()\n        order_database = self.database_orders.validate_schema_database()\n>       self.database_orders.check_order(order_api, order_database)\n\ntests/test_order.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <database.database_orders.Database object at 0x7f39e2c9b1d0>\norder_api = Order(id=600, payment_key='cs_test_a1gu2uUJK6TfQyg32CT83Q615tHa7EDrPPSxokhAAhcuLKxQ5wWMBQyfAs', status=<Status.created: 'created'>, total_price=0)\noder_database = Order(id=600, payment_key='cs_test_a1gu2uUJK6TfQyg32CT83Q615tHa7EDrPPSxokhAAhcuLKxQ5wWMBQyfAs', status=<Status.created: 'created'>, total_price=30000)\n\n    @allure.step('Check order in the database')\n    def check_order(self, order_api, oder_database):\n        assert order_api.id == oder_database.id, \"Invalid ID in database\"\n        assert order_api.status == oder_database.status, \"Invalid STATUS in database\"\n        assert order_api.payment_key == oder_database.payment_key, \"Invalid PAYMENT_KEY in database\"\n>       assert order_api.total_price == oder_database.total_price, \"Invalid TOTAL_PRICE in database\"\nE       AssertionError: Invalid TOTAL_PRICE in database\n\ndatabase/database_orders.py:36: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1711434919400,"stop":1711434919416,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"cursor","time":{"start":1711434919416,"stop":1711434921345,"duration":1929},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup","time":{"start":1711434921346,"stop":1711434921346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Invalid TOTAL_PRICE in database","statusTrace":"self = <test_order.TestOrders object at 0x7f39e3795160>\n\n    @allure.title('Create order')\n    def test_create_order(self):\n        self.create_order.create_order()\n        self.create_order.check_response_is_200()\n        order_api = self.create_order.validate_scheme()\n        self.database_orders.last_order()\n        order_database = self.database_orders.validate_schema_database()\n>       self.database_orders.check_order(order_api, order_database)\n\ntests/test_order.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <database.database_orders.Database object at 0x7f39e2c9b1d0>\norder_api = Order(id=600, payment_key='cs_test_a1gu2uUJK6TfQyg32CT83Q615tHa7EDrPPSxokhAAhcuLKxQ5wWMBQyfAs', status=<Status.created: 'created'>, total_price=0)\noder_database = Order(id=600, payment_key='cs_test_a1gu2uUJK6TfQyg32CT83Q615tHa7EDrPPSxokhAAhcuLKxQ5wWMBQyfAs', status=<Status.created: 'created'>, total_price=30000)\n\n    @allure.step('Check order in the database')\n    def check_order(self, order_api, oder_database):\n        assert order_api.id == oder_database.id, \"Invalid ID in database\"\n        assert order_api.status == oder_database.status, \"Invalid STATUS in database\"\n        assert order_api.payment_key == oder_database.payment_key, \"Invalid PAYMENT_KEY in database\"\n>       assert order_api.total_price == oder_database.total_price, \"Invalid TOTAL_PRICE in database\"\nE       AssertionError: Invalid TOTAL_PRICE in database\n\ndatabase/database_orders.py:36: AssertionError","steps":[{"name":"Create order","time":{"start":1711434921346,"stop":1711434922237,"duration":891},"status":"passed","steps":[{"name":"Add json to allure report","time":{"start":1711434922236,"stop":1711434922237,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"38de2567e070eb73","name":"API Response","source":"38de2567e070eb73.json","type":"application/json","size":153}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true},{"name":"Check response is 200","time":{"start":1711434922237,"stop":1711434922237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Response validation","time":{"start":1711434922237,"stop":1711434922237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Get last order from database","time":{"start":1711434922237,"stop":1711434922457,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Validation of order attributes in database","time":{"start":1711434922457,"stop":1711434922457,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Check order in the database","time":{"start":1711434922458,"stop":1711434922458,"duration":0},"status":"failed","statusMessage":"AssertionError: Invalid TOTAL_PRICE in database\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/training_store_api_database/training_store_api_database/database/database_orders.py\", line 36, in check_order\n    assert order_api.total_price == oder_database.total_price, \"Invalid TOTAL_PRICE in database\"\n","steps":[],"attachments":[],"parameters":[{"name":"order_api","value":"Order(id=600, payment_key='cs_test_a1gu2uUJK6TfQyg32CT83Q615tHa7EDrPPSxokhAAhcuLKxQ5wWMBQyfAs', status=<Status.created: 'created'>, total_price=0)"},{"name":"oder_database","value":"Order(id=600, payment_key='cs_test_a1gu2uUJK6TfQyg32CT83Q615tHa7EDrPPSxokhAAhcuLKxQ5wWMBQyfAs', status=<Status.created: 'created'>, total_price=30000)"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"cursor::0","time":{"start":1711434922495,"stop":1711434922577,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Orders"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_order"},{"name":"subSuite","value":"TestOrders"},{"name":"host","value":"fv-az738-717"},{"name":"thread","value":"1978-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_order"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":21,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":21},"items":[{"uid":"62fc0dd8cefeb26e","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711434513023,"stop":1711434514081,"duration":1058}},{"uid":"46d54c0bac9984c4","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711432854261,"stop":1711432855582,"duration":1321}},{"uid":"79d755b575226f4b","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711378035569,"stop":1711378036752,"duration":1183}},{"uid":"441e0c40ed0ba922","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711377396539,"stop":1711377397830,"duration":1291}},{"uid":"9e5da086c78593e","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711376870347,"stop":1711376871777,"duration":1430}},{"uid":"7099a720a5671619","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711375652640,"stop":1711375653707,"duration":1067}},{"uid":"98122cd57e630c2b","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711373861231,"stop":1711373862373,"duration":1142}},{"uid":"2c28383c3722364","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711373460361,"stop":1711373461532,"duration":1171}},{"uid":"ca85d21743e5042c","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711372234044,"stop":1711372235093,"duration":1049}},{"uid":"b0ef1cb1b81e245d","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711370919342,"stop":1711370920499,"duration":1157}},{"uid":"f82bc9a0e7da62be","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711370602619,"stop":1711370603954,"duration":1335}},{"uid":"b895cd6d08a59c4b","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711366897869,"stop":1711366898894,"duration":1025}},{"uid":"c341d9c38af030eb","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711365655095,"stop":1711365656363,"duration":1268}},{"uid":"d2ba77858e3957d0","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711364450234,"stop":1711364451267,"duration":1033}},{"uid":"bc6624caaa86fc1","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1711295122184,"stop":1711295123456,"duration":1272}},{"uid":"ddb642cc8983be70","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1710927630158,"stop":1710927631480,"duration":1322}},{"uid":"ac4ab40bc039d9f9","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1710925199185,"stop":1710925200316,"duration":1131}},{"uid":"c3a8945e85b9bb1f","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1710925070174,"stop":1710925071256,"duration":1082}},{"uid":"abcb617a69ecd1ff","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1710924483620,"stop":1710924485007,"duration":1387}},{"uid":"6152b4515d14ab8c","status":"failed","statusDetails":"AssertionError: Invalid TOTAL_PRICE in database","time":{"start":1710923968055,"stop":1710923969144,"duration":1089}}]},"tags":[]},"source":"ec67dbb2dc0d3083.json","parameterValues":[]}